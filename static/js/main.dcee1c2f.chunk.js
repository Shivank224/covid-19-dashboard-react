(this["webpackJsonpcovid19-tracker-react"]=this["webpackJsonpcovid19-tracker-react"]||[]).push([[0],{160:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a(0),r=a.n(n),s=a(24),i=a.n(s),o=a(8),l=a.n(o),d=a(15),u=a(52),j=a(2);a(59);function h(e){var t=e.countryDetails,a=e.handleCountryInput,n=e.value;return Object(c.jsxs)("div",{className:"header",children:[Object(c.jsx)("h1",{className:"headerTitle",children:"Covid-19 Dashboard"}),Object(c.jsx)("div",{}),Object(c.jsxs)("select",{name:"countries",id:"countries",value:n,onChange:function(e){return a(e.target.value)},children:[Object(c.jsx)("option",{value:"worldwide",children:"Worldwide"}),t.map((function(e){return Object(c.jsxs)("option",{value:e.code,children:[e.name," "]})}))]})]})}var b=a(4),f=a.n(b);function v(e){var t=e.title,a=e.todaysData,n=e.total,r=e.onClick,s=e.active,i=e.isRecovered;return Object(c.jsxs)("div",{className:"infoCard ".concat(s&&"infoBox--selected"," ").concat(!i&&"infoBox--red"),onClick:r,children:[Object(c.jsxs)("h2",{children:[t," "]}),Object(c.jsx)("p",{children:a?"+".concat(f()(a).format("0.0a")):"+0"}),Object(c.jsxs)("p",{children:[f()(n).format("0.0a")," in Total"]})]})}var p=function(e){var t=e.tableData;return Object(c.jsx)("table",{children:Object(c.jsx)("tbody",{children:t.map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e.country}),Object(c.jsx)("td",{children:Object(c.jsx)("strong",{children:f()(e.cases).format("0,0")})})]})}))})})},m=a(51),O={legend:{display:!1},elements:{point:{radius:4}},maintainAspectRatio:!1,tooltips:{mode:"index",intersect:!1,callbacks:{label:function(e,t){return f()(e.value).format("+0,0")}}},scales:{xAxes:[{type:"time",time:{parser:"MM/DD/YY",tooltipFormat:"ll"}}],yAxes:[{gridLines:{display:!1},ticks:{callback:function(e,t,a){return f()(e).format("0a")}}}]}},x=function(e,t){var a,c=[];for(var n in e.cases){if(a){var r={x:n,y:e[t][n]-a};c.push(r)}a=e[t][n]}return c};function y(e){var t=e.casesType,a=Object(n.useState)({}),r=Object(j.a)(a,2),s=r[0],i=r[1];return Object(n.useEffect)((function(){(function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://disease.sh/v3/covid-19/historical/all").then((function(e){return e.json()})).then((function(e){var a=x(e,t);i(a)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),Object(c.jsxs)("div",{children:[Object(c.jsxs)("h3",{children:["Worldwide New ",t.charAt(0).toUpperCase()+t.slice(1)]}),(null===s||void 0===s?void 0:s.length)>0&&Object(c.jsx)(m.Line,{data:{datasets:[{backgroundColor:"recovered"===t?"rgba(0,128,0,0.5)":"rgba(204, 16, 52, 0.5)",borderColor:"recovered"===t?"green":"red",data:s}]},options:O})]})}var g=a(165),w=a(163),N=a(164),C=a(166),k=a(167),D=(a(159),{cases:{color:"red",multiplier:800},recovered:{color:"green",multiplier:1200},deaths:{color:"red",multiplier:2e3}}),I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cases";return e.map((function(e){return Object(c.jsx)(g.a,{center:[e.countryInfo.lat,e.countryInfo.long],pathOptions:{color:D[t].color,fillColor:D[t].color,fillOpacity:.4},radius:Math.sqrt(e[t])*D[t].multiplier,children:Object(c.jsx)(w.a,{children:Object(c.jsxs)("div",{className:"info-container",children:[Object(c.jsx)("img",{className:"info-flag",src:e.countryInfo.flag,alt:""}),Object(c.jsx)("div",{className:"info-name",children:e.country}),Object(c.jsxs)("div",{className:"info-confirmed",children:["Cases: ",f()(e.cases).format("0.0a")]}),Object(c.jsxs)("div",{className:"info-recovered",children:["Recovered: ",f()(e.recovered).format("0.0a")]}),Object(c.jsxs)("div",{className:"info-deaths",children:["Deaths: ",f()(e.deaths).format("0.0a")]})]})})})}))};function S(e){var t=e.center,a=e.zoom,n=e.mapData,r=e.casesType;return Object(c.jsxs)(N.a,{center:t,zoom:a,children:[Object(c.jsx)(C.a,{children:function(e){return e.setView(t,a),null}}),Object(c.jsx)(k.a,{url:"https://api.maptiler.com/maps/basic/256/{z}/{x}/{y}.png?key=MnIgzFWylZtVv45BYBLW",attribution:'<a href="https://www.maptiler.com/copyright/" target="_blank">\xa9 MapTiler</a> <a href="https://www.openstreetmap.org/copyright" target="_blank">\xa9 OpenStreetMap contributors</a>'}),console.log(D[r].hex),I(n,r)]})}function _(){var e=r.a.useState([]),t=Object(j.a)(e,2),a=t[0],n=t[1],s=r.a.useState({}),i=Object(j.a)(s,2),o=i[0],b=i[1],f=r.a.useState("worldwide"),m=Object(j.a)(f,2),O=m[0],x=m[1],g=r.a.useState([]),w=Object(j.a)(g,2),N=w[0],C=w[1],k=r.a.useState([]),D=Object(j.a)(k,2),I=D[0],_=D[1],T=r.a.useState({lat:0,lng:0}),B=Object(j.a)(T,2),M=B[0],R=B[1],z=r.a.useState(2),A=Object(j.a)(z,2),L=A[0],W=A[1],E=r.a.useState("cases"),Y=Object(j.a)(E,2),F=Y[0],J=Y[1],V=function(e){return Object(u.a)(e).sort((function(e,t){return e.cases>t.cases?-1:1}))};r.a.useEffect((function(){(function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://disease.sh/v3/covid-19/countries").then((function(e){return e.json()})).then((function(e){var t=e.map((function(e){return{name:e.country,code:e.countryInfo.iso2}}));n(t),q("worldwide"),C(V(e)),_(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var q=function(){var e=Object(d.a)(l.a.mark((function e(t){var a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="worldwide"===(a=t)?"https://disease.sh/v3/covid-19/all":"https://disease.sh/v3/covid-19/countries/".concat(a),e.next=4,fetch(c).then((function(e){return e.json()})).then((function(e){x(a),b(e),"worldwide"!==a&&(R({lat:e.countryInfo.lat,lng:e.countryInfo.long}),W(4))}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsxs)("div",{className:"app",children:[Object(c.jsx)(h,{countryDetails:a,handleCountryInput:q,value:O}),Object(c.jsxs)("div",{className:"main",children:[Object(c.jsxs)("div",{className:"main_left",children:[Object(c.jsx)(v,{title:"Cases",todaysData:o.todayCases,total:o.cases,active:"cases"===F,onClick:function(){return J("cases")}}),Object(c.jsx)(v,{title:"Recovered",todaysData:o.todayRecovered,total:o.recovered,active:"recovered"===F,isRecovered:!0,onClick:function(){return J("recovered")}}),Object(c.jsx)(v,{title:"Deaths",todaysData:o.todayDeaths,total:o.deaths,active:"deaths"===F,onClick:function(){return J("deaths")}})]}),Object(c.jsxs)("div",{className:"main_right",children:[Object(c.jsx)("div",{className:"main_right_1",children:Object(c.jsx)("div",{className:"map",children:Object(c.jsx)(S,{center:M,zoom:L,mapData:I,casesType:F})})}),Object(c.jsx)("div",{className:"main_right_2",children:Object(c.jsxs)("div",{children:[Object(c.jsxs)("h3",{className:"table_header",children:["Covid-19 Cases By Country ",Object(c.jsx)("span",{className:"live",children:"Live"})]}),Object(c.jsx)("div",{className:"table",children:Object(c.jsx)(p,{tableData:N})}),Object(c.jsx)("div",{className:"chart",children:Object(c.jsx)(y,{casesType:F})})]})})]})]})]})}i.a.render(Object(c.jsx)(_,{}),document.getElementById("root"))},59:function(e,t,a){}},[[160,1,2]]]);
//# sourceMappingURL=main.dcee1c2f.chunk.js.map